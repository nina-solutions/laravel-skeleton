{"version":3,"sources":["app.coffee","admin.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(($) ->\r\n  blogger = $('input[name=\"IS_BLOGGER\"]')\r\n  isother = $('input[name=\"IS_OTHER\"]')\r\n  rmcaltro = $('input[name=\"RMC_ALTRO\"]')\r\n  photographer = $('input[name=\"IS_FOTOGRAFO\"]')\r\n  channel = $('input[name=\"channel\"]').val()\r\n\r\n\r\n  category = $('select[name=\"SOC_ID\"]')\r\n  workfor = $('select[name=\"UTY_ID\"]')\r\n  file1 = $('input[name=\"ANA_FILENAME1\"]')\r\n  file2 = $('input[name=\"ANA_FILENAME2\"]')\r\n  file3 = $('input[name=\"ANA_FILENAME3\"]')\r\n  file4 = $('input[name=\"ANA_FILENAME4\"]')\r\n  file5 = $('input[name=\"ANA_FILENAME5\"]')\r\n  analink = $('textarea[name=\"ANA_LINK_ARTICOLI\"]')\r\n\r\n  workfor.change ->\r\n    category.trigger \"change\"\r\n\r\n  category.change ->\r\n    $('fieldset.hidden').removeClass('hidden')\r\n    switch channel\r\n      when '22'\r\n        break\r\n      when '24'\r\n        if photographer.length > 0\r\n          if category.find(':selected').text() == 'Fotografo' or category.find(':selected').text() == 'Photographer'\r\n            photographer.val(1)\r\n            file4.parent().parent().show()\r\n            file5.parent().parent().show()\r\n          else\r\n            photographer.val(0)\r\n            if file4.length > 0\r\n              file4.parent().parent().hide()\r\n            if file5.length > 0\r\n              file5.parent().parent().hide()\r\n\r\n          file1.parent().parent().find('label.' + photographer.val()).show()\r\n          lab = if photographer.val() == \"0\" then \"1\" else \"0\";\r\n          if (file1.parent().parent().find('label.' + lab).length > 0)\r\n            file1.parent().parent().find('label.' + lab).hide()\r\n        break\r\n      when '23'\r\n        if blogger.length > 0\r\n          if category.find(':selected').text() == 'Blogger' or workfor.find(':selected').text() == 'Blog'\r\n            blogger.val(1)\r\n            file3.parent().parent().show()\r\n            analink.parent().parent().show()\r\n\r\n            if file1.length > 0\r\n              file1.parent().parent().hide()\r\n            if file2.length > 0\r\n              file2.parent().parent().hide()\r\n            if file5.length > 0\r\n              file5.parent().parent().hide()\r\n          else\r\n            blogger.val(0)\r\n            file1.parent().parent().show()\r\n            file2.parent().parent().show()\r\n            file5.parent().parent().show()\r\n\r\n            if analink.length > 0\r\n              analink.parent().parent().hide()\r\n            if file3.length > 0\r\n              file3.parent().parent().hide()\r\n        break\r\n      when '33'\r\n        if blogger.length > 0\r\n          if (category.find(':selected').text() == 'Blogger')\r\n            blogger.val(1)\r\n            file2.parent().parent().show()\r\n            if file1.length > 0\r\n              file1.parent().parent().hide()\r\n            if file5.length > 0\r\n              file5.parent().parent().hide()\r\n          else\r\n            blogger.val(0)\r\n            file1.parent().parent().show()\r\n            file5.parent().parent().show()\r\n            if file2.length > 0\r\n              file2.parent().parent().hide()\r\n          analink.parent().parent().find('label.' + blogger.val()).show()\r\n          analink.attr('placeholder', analink.parent().parent().find('label.' + blogger.val()).text())\r\n          lab = if blogger.val() == \"0\" then \"1\" else \"0\";\r\n          if (analink.parent().parent().find('label.' + lab).length > 0)\r\n            analink.parent().parent().find('label.' + lab).hide()\r\n        break\r\n    if rmcaltro.length > 0\r\n      rmcaltro.parent().parent().removeClass('hidden')\r\n      if category.find(':selected').text().toLowerCase() == 'altro' or category.find(':selected').text().toLowerCase() == 'other'\r\n        isother.val('1');\r\n        rmcaltro.parent().parent().show()\r\n      else\r\n        isother.val('0');\r\n        rmcaltro.text('')\r\n        rmcaltro.parent().parent().hide()\r\n\r\n  category.trigger 'change'\r\n\r\n\r\n\r\n\r\n\r\n  # VISA JS EMBASSIES\r\n  vits_nazioni = $('select[name=\"VISA_ELENCONAZIONIAMBASCIATE\"]')\r\n  vits_codice__wrapper = $('.vits_codice__wrapper')\r\n  vits_codice__content = $('.vits_codice__content')\r\n  vits_ajax_url = \"/en/visa/ajax/\"\r\n\r\n  vits_nazioni.change ->\r\n    if vits_nazioni.val() != \"\"\r\n      $.ajax\r\n        url: vits_ajax_url + \"embassy/\"\r\n        dataType: \"html\"\r\n        data: {nation: vits_nazioni.val(), default: vits_codice__content.find('input[type=hidden]').val() }\r\n        error: (jqXHR, textStatus, errorThrown) ->\r\n          console.log \"AJAX Error: #{textStatus}\"\r\n        success: (data, textStatus, jqXHR) ->\r\n          console.log \"Successful AJAX call: #{data}\"\r\n          vits_codice__content.html data\r\n          vits_codice__wrapper.addClass 'active'\r\n\r\n  vits_nazioni.trigger 'change'\r\n\r\n\r\n  #VISA INTERESTS - OTHER\r\n  visa_interesse = $('select[name=\"VISA_SETTOREINTERESSE\"]')\r\n  visa_other_interesse = $('#VISA_SETTOREINTERESSE_OTHER')\r\n\r\n  visa_interesse.change ->\r\n    if visa_interesse.val().toLowerCase() != \"other\"\r\n      visa_other_interesse.parent().parent().addClass 'hidden'\r\n    else\r\n      visa_other_interesse.parent().parent().removeClass 'hidden'\r\n\r\n  visa_interesse.trigger 'change'\r\n\r\n\r\n\r\n) jQuery\r\n","\"use strict\"\r\nclass HubAdmin\r\n  constructor: ->\r\n    $.ajaxSetup headers: 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n    this.init_search()\r\n    this.init_submit_status()\r\n    this.init_select()\r\n    this.init_datepicker()\r\n    this.init_userform()\r\n\r\n  init_search: ->\r\n    search = $('#search')\r\n    if search.length > 0\r\n      $('input#search-text').keypress (event) ->\r\n        if event.which == 13\r\n          search.trigger('click')\r\n\r\n      search.click ->\r\n        $('input#h-search-text').val($('input#search-text').val())\r\n        $('#search-form').submit()\r\n\r\n  init_submit_status: ->\r\n    statusButton = $('.status-button')\r\n    statusField = $('#status_id')\r\n    if statusButton.length > 0 and statusField.length > 0\r\n      statusButton.click (e) ->\r\n        e.preventDefault()\r\n        statusField.val($(this).data('value'))\r\n        $(this).closest('form').submit()\r\n\r\n  init_select: ->\r\n    select = $('select.select2').not('.hidden')\r\n    if select.length > 0\r\n      select.select2({ width: '100%' })\r\n\r\n  init_datepicker: ->\r\n    datepicker = $('#datepicker').not('.hidden')\r\n    if datepicker.length > 0\r\n      start = $('#start')\r\n      end = $('#end')\r\n      datepicker.daterangepicker { timePicker: false }\r\n      if start.length > 0 and start.val().length >= 10\r\n        datepicker.data('daterangepicker').startDate = moment(start.val().replace(' ','T'), 'YYYY-MM-DDTHH:mm:ss')\r\n      if end.length > 0 and end.val().length >= 10\r\n        datepicker.data('daterangepicker').endDate = moment(end.val().replace(' ','T'), 'YYYY-MM-DDTHH:mm:ss')\r\n      datepicker.val(start.val() + \" - \" + end.val())\r\n      datepicker.data('daterangepicker').updateView();\r\n      datepicker.data('daterangepicker').updateCalendars();\r\n      datepicker.on 'apply.daterangepicker', (ev, picker) ->\r\n        $('#start').val(picker.startDate.format('YYYY-MM-DD HH:mm:ss'))\r\n        $('#end').val(picker.endDate.format('YYYY-MM-DD HH:mm:ss'))\r\n\r\n  remove_permission: (e, element) ->\r\n    e.preventDefault\r\n    $(context_id).find('option[value='+$(element).data('value')+']').prop('disabled', false)\r\n    $(element).parents('div.permission').remove()\r\n\r\n  init_userform: ->\r\n    thisHub = this\r\n    userform = $('#users')\r\n    roles = $('#roles')\r\n    context_id = $('#context_id')\r\n    permissions = $('#permissions')\r\n    $('.remove-permission').each ->\r\n      $(context_id).find('option[value='+$(this).data('value')+']').attr('disabled', 'disabled')\r\n\r\n    $(permissions).on 'click', '.remove-permission', (e) ->\r\n      hub.remove_permission(e, this)\r\n      hub.init_select()\r\n\r\n    if userform.length > 0 and context_id.length > 0 and permissions.length > 0\r\n      context_id.change (e, item) ->\r\n        # add new element\r\n        thisHub.user_permission(roles, context_id, permissions)\r\n        $(context_id).find('option').filter(':selected').attr('disabled', 'disabled')\r\n        thisHub.init_select()\r\n\r\n  user_permission: (roles, context_id, permissions) ->\r\n    new_role = roles.clone(true, true).attr('id', 'role_'+context_id.val()).removeClass('hidden').attr('name', 'permission['+context_id.val()+'][role_id]')\r\n    new_label = $(document.createElement('label')).attr('for', 'permission['+context_id.val()+'][role_id]').text(context_id.find('option').filter(':selected').text())\r\n    new_button = $(document.createElement('a')).addClass('btn btn-sm remove-permission').attr('data-value', context_id.val()).html('<span class=\"glyphicon glyphicon-trash\"></span>')\r\n    selectColumn = $(document.createElement('div')).addClass('col-md-5').append(new_role)\r\n    labelColumn = $(document.createElement('div')).addClass('col-md-5').append(new_label)\r\n    actionColumn = $(document.createElement('div')).addClass('col-md-2').append(new_button)\r\n    new_role_div = $(document.createElement('div')).addClass('row permission form-group').append(labelColumn, selectColumn, actionColumn)\r\n    permissions.append(new_role_div)\r\n\r\nhub = new HubAdmin()\r\n\r\n\r\n"],"sourceRoot":"/source/"}